<!doctype html>
<html lang="en" data-theme="night" id="root-html">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.ico" />
		<link rel="icon" href="%sveltekit.assets%/favicon.ico" />
		<link rel="apple-touch-icon" href="%sveltekit.assets%/favicon.ico" />

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content="Gearotons" lang="en" />
		<meta name="description" content="Servo motors" lang="en" />
		<meta name="description" content="Electric Motors" lang="en" />
		<meta name="description" content="UART commanded servo motors" lang="en" />

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

		<link
			rel="preload"
			as="style"
			href="https://fonts.googleapis.com/css2?family=Geist:wght@500&display=swap"
		/>

		<link
			href="https://fonts.googleapis.com/css2?family=Geist:wght@500&display=swap"
			rel="stylesheet"
		/>

		%sveltekit.head%
	</head>

	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>

		<!-- Prevents FOUC by setting the theme on initial page load -->
		<script fetchpriority="high">
			(function () {
				/* Theme cookie is always set by the server */
				const allCookies = document.cookie.split(';');

				let currentTheme = '';
				const foundCookie = allCookies.find((cookie) => {
					const [key, value] = cookie.split('=');

					if (key.trim() == 'Theme') {
						currentTheme = value;
						return true;
					}
				});

				if (foundCookie == null) {
					return;
				}

				const rootElem = document.getElementById('root-html');
				if (rootElem == null) {
					return;
				}

				rootElem.setAttribute('data-theme', currentTheme);
			})();
		</script>
	</body>
</html>
